---
import { base, site } from 'astro:config/client';
import type { PageMetadata } from '@/types';
import { SEO } from 'astro-seo';
type Props = {
  page_metadata: PageMetadata;
};
const { page_metadata }: Props = Astro.props;
const canonicalURL = new URL(Astro.url.pathname, site);
const siteName = 'Learning Trade';
---

<SEO
  title={page_metadata?.title
    ? `${page_metadata.title} | ${siteName}`
    : siteName}
  description={page_metadata?.description ||
    'Your one-stop destination for Previous Year Question Papers (PYQ), study materials, and academic resources. Access free PDFs, preview online, and download instantly.'}
  canonical={canonicalURL.href}
  openGraph={{
    basic: {
      title: page_metadata?.open_graph?.title || siteName,
      type: page_metadata?.open_graph?.type || 'website',
      image: `${site}${base}/assets/images/${page_metadata?.open_graph?.image || 'page_fallback_opengraph_image.jpg'}`,
      url: canonicalURL.href,
    },
    optional: {
      siteName: siteName,
      description:
        page_metadata?.description ||
        'Your one-stop destination for Previous Year Question Papers (PYQ), study materials, and academic resources.',
      locale: 'en_US',
    },
    image: {
      alt: `${page_metadata?.open_graph?.title || siteName} - Academic Resources`,
    },
  }}
  twitter={{
    card: 'summary_large_image',
    site: '@learningtrade',
    title: page_metadata?.open_graph?.title || siteName,
    description:
      page_metadata?.description ||
      'Access free Previous Year Question Papers and study materials.',
    image: `${site}${base}/assets/images/${page_metadata?.open_graph?.image || 'page_fallback_opengraph_image.jpg'}`,
    imageAlt: `${page_metadata?.open_graph?.title || siteName} - Academic Resources`,
  }}
  extend={{
    link: [{ rel: 'icon', href: `${base}/assets/images/logo_icon_only.png` }],
    meta: [
      { name: 'author', content: 'Learning Trade' },
      { name: 'robots', content: 'index, follow' },
      { name: 'googlebot', content: 'index, follow' },
      { name: 'theme-color', content: '#4f46e5' },
      { name: 'apple-mobile-web-app-title', content: siteName },
      { name: 'application-name', content: siteName },
    ],
  }}
/>
